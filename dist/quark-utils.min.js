!function(n,e){"function"==typeof define&&define.amd?define(["quark","knockout","jquery","accounting-js","blockui"],e):(n.komapping=ko.mapping,e(n.$$,n.ko,n.$,n.accounting))}(this,function(n,e,t,i){function o(e,i){i?n.block(i,t(e)):n.unblock(t(e))}return e.bindingHandlers.stopBinding={init:function(n,e,t,i,o){return{controlsDescendantBindings:!0}}},e.bindingHandlers.upContext={init:function(n,t,i,o,r){var a=r.$parentContext.extend({$child:o,$childContext:r});return e.bindingHandlers.template.init(n,t,i,r.$parent,a)},update:function(n,t,i,o,r){var a=r.$parentContext.extend({$child:o,$childContext:r});return e.bindingHandlers.template.update(n,t,i,r.$parent,a)}},e.virtualElements.allowedBindings.upContext=!0,n.block=function(n,e){n||(n="Loading...");var i={message:n,css:{border:"none",padding:"5px",backgroundColor:"#000","-webkit-border-radius":"5px","-moz-border-radius":"5px",opacity:.7,color:"#fff"},baseZ:5e3};e?t(e).block(i):t.blockUI(i)},n.unblock=function(n){n?t(n).unblock():t.unblockUI()},e.bindingHandlers.block={init:function(n,t,i,r,a){var u=e.unwrap(t());o(n,u)},update:function(n,t,i,r,a){var u=e.unwrap(t());o(n,u)}},n.configuration||(n.configuration={}),n.configuration.moneyFormat={symbol:"$ ",decimals:2,separator:{thousands:".",decimal:","}},n.configuration.numberFormat={decimals:2,separator:{thousands:".",decimal:","}},n.formatMoney=function(e,o){return o=t.extend({},n.configuration.moneyFormat,o),i.formatMoney(e,o.symbol,o.decimals,o.separator.thousands,o.separator.decimal)},n.unformatMoney=function(e,o){o=t.extend({},n.configuration.moneyFormat,o);var r=i.unformat(e,o.separator.decimal);return i.toFixed(r,o.decimals)},n.formatNumber=function(e,o){return o=t.extend({},n.configuration.numberFormat,o),i.formatNumber(e,o.decimals,o.separator.thousands,o.separator.decimal)},n.unformatNumber=function(e,o){o=t.extend({},n.configuration.numberFormat,o);var r=i.unformat(e,o.separator.decimal);return i.toFixed(r,o.decimals)},n.formatters.numeric={read:function(e){return n.isObject(e)&&n.isDefined(e.value)&&n.isDefined(e.config)?n.formatNumber(e.value,e.config):n.formatNumber(e)},write:function(e){return n.isObject(e)&&n.isDefined(e.value)&&n.isDefined(e.config)?n.unformatNumber(e.value,e.config):n.unformatNumber(e)}},n.formatters.money={read:function(e){return n.isObject(e)&&n.isDefined(e.value)&&n.isDefined(e.config)?n.formatMoney(e.value,e.config):n.formatMoney(e)},write:function(e){return n.isObject(e)&&n.isDefined(e.value)&&n.isDefined(e.config)?n.unformatMoney(e.value,e.config):n.unformatMoney(e)}},e.bindingHandlers.rowSelect={update:function(n,t,i,o,r){var a=e.unwrap(t()),u=i.get("selectedValue"),c=i.get("style");if(!e.isObservable(u))throw new Error("Must specify the selected value as an observable using the selectedValue binding");c||(c="success");var d=function(){var n={};return a==u()?n[c]=!0:n[c]=!1,{success:n}};e.bindingHandlers.css.update(n,d,i,o,r);var s=function(){u(a)};e.bindingHandlers.click.init(n,s,i,o,r)}},"function"==typeof define&&define.amd&&define("knockout",function(){return e}),n});
